<!DOCTYPE html>
<html>
  <head>
    <title>Your Order Confirmation</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'DM Sans', sans-serif;
      }
      table {
        width: 100%;
        border-collapse: collapse;
      }
      th, td {
        border: 1px solid #ddd;
        padding: 8px;
      }
      th {
        background-color: #f2f2f2;
        text-align: left;
      }
      img.product-image {
        max-width: 100px;
        height: auto;
      }
    </style>
  </head>
  <body>
    <h2>Your Order Confirmation</h2>
    <p>Thanks for shopping with us!</p>

    <h3>Order ID</h3>
    <p>#{{ order.order_id }}</p>

    <h3>Shipping</h3>
    <p>Tracking ID: #{{ order.shipping_tracking_id }}</p>
    <p>Cost: {{ order.shipping_cost.units }}.{{ "%02d" | format(order.shipping_cost.nanos // 10000000) }} {{ order.shipping_cost.currency_code }}</p>
    <p>Address: {{ order.shipping_address.street_address_1 }}, {{ order.shipping_address.street_address_2 }}, {{ order.shipping_address.city }}, {{ order.shipping_address.country }} {{ order.shipping_address.postal_code }}</p>

    <h3>Items</h3>
    <table>
      <tr>
        <th>Item No.</th>
        <th>Image</th>
        <th>Name</th>
        <th>Description</th>
        <th>Quantity</th>
        <th>Price</th>
      </tr>
      {% for item in order.items %}
      <tr>
        <td>#{{ item.item.product_id }}</td>
        <td>
          {% if item.item.image_url %}
          <img src="{{ item.item.image_url }}" alt="{{ item.item.title }}" class="product-image">
          {% else %}
          N/A
          {% endif %}
        </td>
        <td>{{ item.item.title }}</td>
        <td>{{ item.item.description }}</td>
        <td>{{ item.item.quantity }}</td>
        <td>{{ item.cost.units }}.{{ "%02d" | format(item.cost.nanos // 10000000) }} {{ item.cost.currency_code }}</td>
      </tr>
      {% endfor %}
    </table>
  </body>
</html>
